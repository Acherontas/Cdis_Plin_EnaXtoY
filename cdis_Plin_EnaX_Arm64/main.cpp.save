#include <iostream>
#include <iomanip>
#include <math.h>
#include "sum_cdi.h"
using namespace std;


    long long int main_number=0;
    long long int ar_ofres[10];int refof=0;
    long long int result=0;
    long long int stbl=9;
    long long int rttl=0;
    long long int rti=0;long long int tri=0;
    long long int arint[100];int intar=0;
    long long int sumof_them=0;
    long long int afair=0;
    long long int res_one=0;
    long long int res_two=0;
    long long int asump=0;
    long long int resultt=0;
    long long int ts_loop=0;
    sum_cdi *smcd=new sum_cdi();


 void loop(long long int m_b,long long int result_loop){
    
       cout<<"current cdi " << " - " << " next cdi " << " ::== " << " subtraction \n";
        while(result>9){
         rti=smcd->cdis(result,3);
         tri=result-rti;
         cout<<result <<" -  " << rti << " ::== " <<  tri <<"\n";
         arint[intar]=tri; intar+=1;
         result=smcd->cdis(result,3);
         if(result<=9){//cout<<"final value " << result <<"\n";
                        //cout<<"of last \n";
                        cout<<result << " - " << stbl << " ::== " << stbl <<"\n";
                        arint[intar]=stbl; intar+=1;
                        afair=stbl-result;
                        cout<<"and " << stbl << " - " << result << " ::== " << afair <<"\n";
                        cout<<"\n";
                        cout<<"additions of all subtractions \n";
                        for(int i=0;i<=intar-1;i++){
                                //cout<<"sumof_them  + arint @i pos " << sumof_them << " + ";
                                cout<<sumof_them << " + " ;
                                sumof_them=sumof_them+arint[i];
                                cout<< arint[i] <<" ::== " << sumof_them <<"\n";
                        }
                        cout<<"exiting with sum of " << sumof_them <<" ";
                        sumof_them=sumof_them-afair;
                        cout<<" - " << afair << " ::== " << sumof_them <<"\n";
                        break;
                    }
    }
    if(sumof_them==main_number){cout<<"Matches \n";}
    if(sumof_them!=main_number){cout<<"No match\n";}
    cout<<"----------END OF LOOP -----------------------------------\n";
    cout<<"\n";


 }


int main(int argc,char** argv)
{

    cout<<"enter ur number ";
    main_number=stoll(argv[1]);

    smcd->cdi=0;
    smcd->cdis(main_number,3);
    result=smcd->cdis(main_number,3);

    cout<<"the result is " << result <<"\n"; //22
    ar_ofres[refof]=main_number-result; refof+=1; //2763
    rttl=ar_ofres[refof-1];
    cout<<"\n";
    cout<<"of " << main_number << " - " << result << " ::== " << ar_ofres[refof-1] <<" the sum of digits \n";
    cout<<"\n";
    cout<<"----------WITH ALL IN LOOP -----------------------------------\n";
    //arint[intar]=ar_ofres[refof-1];intar+=1;
    arint[intar]=main_number-result; intar+=1;
    loop(arint[intar-1]);

    cout<<"----------------------DEPTH of cdis----------------------------\n";
    cout<<"the code below contains a depth proof. If depth isnt satisfied \n";
    cout<<"the result may be not the main number you entered above        \n";
    ar_ofres[refof]=result; refof+=1; //22
    result=smcd->cdis(ar_ofres[refof-1],3);
    res_one=ar_ofres[1]-result;
    cout<<"of " <<ar_ofres[1] << " - " << result << " ::== " << res_one <<"\n";
    ar_ofres[refof]=result;refof+=1;
    cout<<"of assumption " << ar_ofres[2] << " - " << ar_ofres[2] << " ::== " << stbl <<"\n";
    res_two=stbl-ar_ofres[2];
    asump=ar_ofres[0] + res_one + stbl;
    cout<<"with assumption of addition " << ar_ofres[0] << " + " << res_one << " + " << stbl << " ::== " << asump <<"\n";
    cout<<"of assumption " << stbl << " - " << ar_ofres[2] << " ::== " << res_two <<"\n";
    resultt=asump-res_two;
    cout<<"and final of " << asump << " - " << res_two << " ::== " << resultt <<"\n";
    ar_ofres[refof]=res_two; refof+=1;
    cout<<"\n";
    result=rttl;
    cout<<"And of number " << result <<"\n";
    if(result==main_number){cout<<"Depth is correct numbers matches\n";}
    if(result!=main_number){cout<<"Not all depth added see below or up for depths of cdis \n";}
    cout<<"\n";
    while(result>9){
       result=smcd->cdis(result,3);
       cout<<"internal result " << result <<"\n";
       if(result>9){
                    ts_loop=smcd->cdis(result,3);
                    cout<<"with ts_loop of " << ts_loop <<"\n";
       }
       cout<<result <<  " - " << ts_loop << " ::== " << result-ts_loop <<"\n";
       if(result-ts_loop>=9){result=result-ts_loop; cout<<"continue with " << result <<"\n";}
       if(result-ts_loop<9){break;}
    }

    return 0;
}
